{"version":3,"sources":["assets\\script\\scene1\\beijing1.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEAkFC;QA/EG,QAAE,GAAe,EAAE,CAAC;QAEpB,YAAM,GAAU,CAAC,CAAC;QAElB,iBAAW,GAAU,CAAC,CAAC;QAGvB,WAAK,GAAU,CAAC,CAAC;;IAwErB,CAAC;IApEG,wBAAwB;IAExB,eAAe;IAER,+BAAY,GAAnB,UAAoB,GAAG,EAAE,GAAG;QAC9B,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QACzB,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;IACzC,CAAC;IAEE,wBAAK,GAAL;QAEI,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,SAAS,EAAE,UAAC,GAAG,EAAC,IAAI;YAC1C,MAAM;YACN,IAAI,OAAO,GAAW,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC5D,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;QAGhD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yBAAM,GAAN,UAAQ,EAAE;QACN,IAAI;QACJ,OAAO;QACP;;;;;;;WAOG;QAVP,iBA8CC;QAjCG,IAAG,IAAI,CAAC,WAAW,IAAI,CAAC,EAAC;YACrB,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;YACrC,IAAI,QAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;YAC9C,QAAM,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAEpC,UAAU,CAAC;gBACP,QAAM,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1B,CAAC,EAAE,IAAI,CAAC,CAAC;YAGT,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,EAAC,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC;YAE3C,QAAM,CAAC,CAAC,GAAG,QAAQ,CAAC;YACpB,QAAM,CAAC,CAAC,GAAG,QAAQ,CAAC;YAGpB,IAAI,CAAC,QAAQ,CAAC;gBACV,QAAM,CAAC,CAAC,IAAI,KAAI,CAAC,KAAK,CAAC,CAAC,+FAA+F;YAC3H,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAGd,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;SAGxB;aAEG;YACA,IAAI,CAAC,WAAW,IAAE,EAAE,CAAC;SACxB;IAIL,CAAC;IA9ED;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wCACA;IAOpB;QADC,QAAQ;2CACQ;IAVA,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAkF5B;IAAD,eAAC;CAlFD,AAkFC,CAlFqC,EAAE,CAAC,SAAS,GAkFjD;kBAlFoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    sp:cc.Prefab[] = [];\r\n\r\n    toward:number = 1;\r\n\r\n    yunduo_time:number = 4;\r\n\r\n    @property\r\n    speed:number = 2;\r\n\r\n    \r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    public GetRandomNum(Min, Max):number {\r\n\t\tvar Range = Max - Min;\r\n\t\tvar Rand = Math.random();\r\n\t\treturn (Min + Math.round(Rand * Range));\r\n\t}\r\n\r\n    start () {\r\n\r\n        cc.loader.loadRes(\"风\", cc.AudioClip, (res,clip)=>{\r\n            //播放音乐\r\n            let audioID: number = cc.audioEngine.playEffect(clip, true);\r\n            cc.audioEngine.setVolume(audioID, 1); //设置音量\r\n\r\n            \r\n        });\r\n    }\r\n\r\n    update (dt) {\r\n        //移动\r\n        //遍历子物体\r\n        /*\r\n        for(let bgNode of this.node.children){\r\n            //移动 帧 -> 秒\r\n            bgNode.x += 200*dt*this.toward; //每秒向下移动100\r\n            if(bgNode.x > 268 || bgNode.x < -448){  //如果都走出了界面，那么循环\r\n                this.toward *= -1;\r\n            }\r\n        }*/\r\n\r\n\r\n        if(this.yunduo_time <= 0){\r\n            let random1 = this.GetRandomNum(0,4);\r\n            let yunduo = cc.instantiate(this.sp[random1]);\r\n            yunduo.setParent(cc.find('player'));\r\n\r\n            setTimeout(()=>{\r\n                yunduo.active = false;\r\n            }, 6000);\r\n\r\n\r\n            let random_x = this.GetRandomNum(-500,-300);\r\n            let random_y = this.GetRandomNum(-100,400);\r\n\r\n            yunduo.x = random_x;\r\n            yunduo.y = random_y;\r\n\r\n\r\n            this.schedule(()=>{\r\n                yunduo.x += this.speed; //云朵移动速度  //经验exp.fillRange到1表示经验满，经验值增长的可视化横条，1/this.exp_required()表示每间隔一定时间增加这么多的经验条显示，实现动态增长\r\n            },0.01, 1000);\r\n            \r\n\r\n            this.yunduo_time = 4;\r\n\r\n\r\n        }\r\n\r\n        else{\r\n            this.yunduo_time-=dt;\r\n        }\r\n        \r\n\r\n\r\n    }\r\n}\r\n"]}