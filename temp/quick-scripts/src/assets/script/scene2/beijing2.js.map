{"version":3,"sources":["assets\\script\\scene2\\beijing2.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    sp:cc.Prefab[] = [];\r\n\r\n    toward:number = 1;\r\n\r\n    shandian_time:number = 3;\r\n\r\n    \r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    public GetRandomNum(Min, Max):number {\r\n\t\tvar Range = Max - Min;\r\n\t\tvar Rand = Math.random();\r\n\t\treturn (Min + Math.round(Rand * Range));\r\n\t}\r\n\r\n    start () {\r\n    }\r\n\r\n    update (dt) {\r\n        //移动\r\n        //遍历子物体\r\n        for(let bgNode of this.node.children){\r\n            //移动 帧 -> 秒\r\n            bgNode.x += 500*dt*this.toward; //每秒移动100\r\n            if(bgNode.x > 1300 || bgNode.x < -1300){  //如果都走出了界面，那么循环\r\n                this.toward *= -1;\r\n            }\r\n        }\r\n\r\n\r\n        if(this.shandian_time <= 0){\r\n            let random1 = this.GetRandomNum(0,4);\r\n            let shandian = cc.instantiate(this.sp[random1]);\r\n            shandian.setParent(cc.director.getScene());\r\n\r\n            setTimeout(()=>{\r\n                shandian.destroy();\r\n            }, 3000);\r\n\r\n            cc.loader.loadRes(\"下雨打雷\", cc.AudioClip, (res,clip)=>{\r\n                //播放音乐\r\n                let audioID: number = cc.audioEngine.playEffect(clip, false);\r\n                cc.audioEngine.setVolume(audioID, 1); //设置音量\r\n\r\n                setTimeout(()=>{\r\n                    cc.audioEngine.stop(audioID);\r\n                }, 2000);\r\n                \r\n            });\r\n\r\n            let random_x1 = this.GetRandomNum(0,400);\r\n            let random_x2 = this.GetRandomNum(800, 1400)\r\n            let random_y = this.GetRandomNum(1000,2500);\r\n\r\n            let random2 = this.GetRandomNum(0,1);\r\n            if(random2 == 0){\r\n                shandian.x = random_x1;\r\n            }\r\n            else{\r\n                shandian.x = random_x2;\r\n            }\r\n            \r\n            shandian.y = random_y;\r\n\r\n            this.shandian_time = 2;\r\n\r\n\r\n        }\r\n\r\n        else{\r\n            this.shandian_time-=dt;\r\n        }\r\n\r\n\r\n    }\r\n}\r\n"]}